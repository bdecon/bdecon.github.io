<!DOCTYPE html>
<html lang="en">
<head>
	<meta id="meta" name="viewport" content="width=device-width, initial-scale=1.0" />
	<title> BD Economics | IMF API Guide, Part 1 </title>
	<link rel="stylesheet" href="add-ins/github.css">
	<script src="add-ins/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	<link rel="stylesheet" href="style.css">
	<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lato:900" rel="stylesheet"> 
	<script src="https://use.fontawesome.com/8f99c5621e.js"></script>
	<meta charset="UTF-8">
	<meta name="description" content="Python tutorial: Using the sdmx1 library to retrieve CPI inflation data from the IMF API.">
	<meta name="keywords" content="IMF API, sdmx1, SDMX Python, CPI inflation, Economics Dashboard, Macroeconomics Dashboard, International Monetary Fund, IMF Statistics Department, IMF Application Programming Interface, Python pandas, economic data API">
	<meta name="author" content="Brian Dew">
	<link rel="canonical" href="https://www.bd-econ.com/imfapi1.html">
	<!-- Open Graph -->
	<meta property="og:title" content="IMF API Guide, Part 1">
	<meta property="og:description" content="Python tutorial: Using the sdmx1 library to retrieve CPI inflation data from the IMF API.">
	<meta property="og:url" content="https://www.bd-econ.com/imfapi1.html">
	<meta property="og:type" content="article">
	<meta property="og:image" content="https://www.bd-econ.com/images/01_bdlogo.png">
	<!-- Twitter Card -->
	<meta name="twitter:card" content="summary">
	<meta name="twitter:title" content="IMF API Guide, Part 1">
	<meta name="twitter:description" content="Python tutorial: Using the sdmx1 library to retrieve CPI inflation data from the IMF API.">
	<meta name="twitter:image" content="https://www.bd-econ.com/images/01_bdlogo.png">
	<link rel="apple-touch-icon" sizes="57x57" href="favicon/apple-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="favicon/apple-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="favicon/apple-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="favicon/apple-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="favicon/apple-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="favicon/apple-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="favicon/apple-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="favicon/apple-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-icon-180x180.png">
	<link rel="icon" type="image/png" sizes="192x192"  href="favicon/android-icon-192x192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="favicon/favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
	<link rel="manifest" href="favicon/manifest.json">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="msapplication-TileImage" content="favicon/ms-icon-144x144.png">
	<meta name="theme-color" content="#ffffff">

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PGVF5S620Y"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PGVF5S620Y');
</script>

</head>
<body>
	<nav>
		<ul class="ul_nav" id="menu">
			<li class="nav_main"> <a href="index.html">BD Economics</a> </li>
			<li><a href="about.html">About</a> </li>
			<li><a href="http://briandew.wordpress.com">Blog</a> </li>
			<li><a href="python.html" class="active">Guides &darr;</a>
				<ul class="hidden">
					<li><a href="imfapi1.html">IMF API</a></li>
					<li><a href="blsapi.html">BLS API</a></li>
					<li><a href="beaapi.html">BEA API</a></li>
					<li><a href="censusapi.html">Census API</a></li>
					<li><a href="treasuryapi.html">Treasury API</a></li>
					<li><a href="cps.html">CPS Microdata</a></li>
			</ul>
			</li>
		<li>
			<a href="reports.html">Reports &darr;</a>
			<ul class="hidden">
				<li><a href="chartbook.html">US Chartbook</a></li>
				<li><a href="indicators.html">Indicators</a></li>
			</ul>
			<li class="icon"> <a href="javascript:void(0);"
				style="font-size:15px;" onclick="responsiveNav()">&#9776;</a>
			</li>
		</ul>
	</nav>
	<header>
	<h3>IMF API</h3>
	</header>
	<section>
	<article class="article_links">
	<a href="imfapi1.html">
	<div class="card">
	  <div class="card_banner_wrap card_banner_wrap_blue">
	    <img src="images/imf_banner1.png" alt="" class="card_banner">
	  </div>
	  <div class="card_head_blue">
		<h2>Part 1</h2>
	  </div>
	  <div class="card_tail">
		<p>A <strong>basic example</strong> of retrieving CPI inflation data using the sdmx1 library, converting to pandas, and plotting results.</p>
	  </div>
	</div>
	</a>
	<a href="imfapi2.html">
	<div class="card_dull">
	  <div class="card_banner_wrap card_banner_wrap_blue">
	    <img src="images/imf_banner.png" alt="" class="card_banner">
	  </div>
	  <div class="card_head_blue">
		<h2>Part 2</h2>
	  </div>
	  <div class="card_tail">
		<p>How to <strong>find datasets and parameters</strong> using dataflow and codelist methods, plus an advanced UK trade example.</p>
	  </div>
	</div>
	</a>
	</article>
	<article class="article_code">
	<h3> IMF API with Python: A Basic Example </h3>
	<p>The <a href="https://data.imf.org/">IMF's data portal</a> provides access to macroeconomic data covering more than 180 countries. Using Python's <a href="https://pypi.org/project/sdmx1/">sdmx1 library</a>, it is straightforward to retrieve data through the IMF's SDMX API.</p>

	<p>The example below retrieves monthly Consumer Price Index (CPI) data for Brazil, Chile, and Colombia, calculates year-over-year inflation rates, and plots the results. This demonstrates the core workflow: connecting to the API, building a request key, fetching data, and converting it to a pandas DataFrame for analysis.</p>

	<h3 class="section-title">Setup</h3>
	<p>First, install the sdmx1 library if you haven't already:</p>
	<pre><code class="bash">pip install sdmx1</code></pre>

	<h3 class="section-title">Import Libraries</h3>
	<p>We need pandas for data manipulation and sdmx for accessing the IMF API:</p>
	<p>In[1]:</p>
	<pre><code class="python">import pandas as pd
import sdmx</code></pre>

	<h3 class="section-title">Set Parameters</h3>
	<p>Define the countries, dataset, and series codes. The key string combines these parameters using dots as separators, with multiple countries joined by <code>+</code> signs:</p>
	<p>In[2]:</p>
	<pre><code class="python"># parameters
countries = ['BRA', 'CHL', 'COL']
dataset = 'CPI'
series = '_T.IX.M'
key = f"{'+'.join(countries)}.{dataset}.{series}"</code></pre>
	<p>The key <code>BRA+CHL+COL.CPI._T.IX.M</code> requests all-items (<code>_T</code>) price index (<code>IX</code>) data at monthly (<code>M</code>) frequency for the three countries.</p>

	<h3 class="section-title">Retrieve Data</h3>
	<p>Create an SDMX client for the IMF and fetch the data. The <code>sdmx.Client</code> connects to the IMF's data endpoint, and the <code>.data()</code> method retrieves observations for the specified dataset and key:</p>
	<p>In[3]:</p>
	<pre><code class="python"># retrieve data
IMF_DATA = sdmx.Client('IMF_DATA')
data_msg = IMF_DATA.data('CPI', key=key,
                         params={'startPeriod': 2018})

# convert to pandas
df = sdmx.to_pandas(data_msg).reset_index()
df = df.set_index(['TIME_PERIOD', 'COUNTRY'])['value'].unstack()</code></pre>
	<p>The <code>sdmx.to_pandas()</code> function converts the SDMX message into a pandas structure. After reshaping, we have a DataFrame with dates as rows and countries as columns.</p>

	<h3 class="section-title">Calculate Inflation and Plot</h3>
	<p>Convert the index to datetime, calculate year-over-year percent changes, and create a line plot:</p>
	<p>In[4]:</p>
	<pre><code class="python"># Convert index to datetime
df.index = pd.to_datetime(df.index, format='%Y-M%m')

# Calculate inflation rate and drop empty rows
res = (df.pct_change(12) * 100).round(1).dropna()

# Plot results
res.plot(title='CPI, one-year percent change',
         color=['dodgerblue', 'green', 'darkblue'])</code></pre>
	<p>Out[4]:</p>
	<img src="images/imf_cpi_inflation.png" alt="CPI Inflation Chart" style="max-width: 100%;"/>

	<h3 class="section-title">Key Concepts</h3>
	<p>This example demonstrates the core workflow for accessing IMF data with sdmx1:</p>
	<ul>
		<li><p><code>sdmx.Client('IMF_DATA')</code> creates a connection to the IMF's SDMX endpoint;</p></li>
		<li><p>The <code>.data()</code> method retrieves data for a specific dataflow using a key string;</p></li>
		<li><p><code>sdmx.to_pandas()</code> converts the SDMX message to a pandas DataFrame;</p></li>
		<li><p>Multiple countries (or other dimension values) are specified using <code>+</code> as a separator.</p></li>
	</ul>

	<p>Part 2 covers how to discover available datasets and find the correct parameter codes for your data of interest.</p>
	</article>
	<div class="subfooter">
	     <a href="imfapi2.html">Next (Part 2) &raquo;</a>
	</div>
	</section>

		<footer>
		<div class="footer_left">
			<p>January 2026<br> by Brian Dew</p>
		</div>
		<div class="footer_right">
			<a href="https://github.com/bdecon/">
				<button class="button_sm"><i class="fa fa-github"></i></button>
			</a>
			<a href="https://www.linkedin.com/in/brian-dew-5788a386/">
				<button class="button_sm"><i class="fa fa-linkedin"></i></button>
			</a>
			<a href="https://twitter.com/bd_econ">
				<button class="button_sm"><i class="fa fa-twitter"></i></button>
			</a>
			<a href="https://briandew.wordpress.com/">
				<button class="button_sm"><i class="fa fa-wordpress"></i></button>
			</a>
		</div>
	</footer>
	<script>
		function responsiveNav() {
			var x = document.getElementById("menu");
			if (x.className === "ul_nav") {
				x.className += " responsive";
			} else {
				x.className = "ul_nav";
			}
		}
	</script>
</body>
</html>
