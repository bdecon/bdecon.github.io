<!DOCTYPE html>
<html lang="en">
<head>
	<meta id="meta" name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>BD Economics | Treasury API Guide</title>
	<link rel="stylesheet" href="add-ins/github.css">
	<script src="add-ins/highlight.pack.js"></script>
	<script>hljs.highlightAll();</script>
	<link rel="stylesheet" href="style.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lato:900&display=swap" rel="stylesheet">
	<script src="https://use.fontawesome.com/8f99c5621e.js" defer></script>
	<meta charset="UTF-8">
	<meta name="description" content="Python tutorial: Using the US Treasury Fiscal Data API to access federal finance data.">
	<meta name="keywords" content="Treasury API, Fiscal Data API, US Treasury, Federal Revenue, Python Treasury Data, Treasury API Python, Federal Finance Data, Government Revenue API, Corporate Income Tax, Customs Duties, Monthly Treasury Statement, MTS Data">
	<meta name="author" content="Brian Dew">
	<link rel="canonical" href="https://www.bd-econ.com/treasuryapi.html">
	<!-- Open Graph -->
	<meta property="og:title" content="Treasury API Guide">
	<meta property="og:description" content="Python tutorial: Using the US Treasury Fiscal Data API to access federal finance data.">
	<meta property="og:url" content="https://www.bd-econ.com/treasuryapi.html">
	<meta property="og:type" content="article">
	<meta property="og:image" content="https://www.bd-econ.com/images/01_bdlogo.png">
	<!-- Twitter Card -->
	<meta name="twitter:card" content="summary">
	<meta name="twitter:title" content="Treasury API Guide">
	<meta name="twitter:description" content="Python tutorial: Using the US Treasury Fiscal Data API to access federal finance data.">
	<meta name="twitter:image" content="https://www.bd-econ.com/images/01_bdlogo.png">
	<link rel="apple-touch-icon" sizes="57x57" href="favicon/apple-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="favicon/apple-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="favicon/apple-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="favicon/apple-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="favicon/apple-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="favicon/apple-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="favicon/apple-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="favicon/apple-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-icon-180x180.png">
	<link rel="icon" type="image/png" sizes="192x192"  href="favicon/android-icon-192x192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="favicon/favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
	<link rel="manifest" href="favicon/manifest.json">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="msapplication-TileImage" content="favicon/ms-icon-144x144.png">
	<meta name="theme-color" content="#ffffff">
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "TechArticle",
    "headline": "Treasury API Python Tutorial",
    "description": "Python tutorial: Using the US Treasury Fiscal Data API to access federal finance data.",
    "author": {
        "@type": "Person",
        "name": "Brian Dew"
    },
    "publisher": {
        "@type": "Organization",
        "name": "BD Economics",
        "url": "https://www.bd-econ.com"
    },
    "mainEntityOfPage": "https://www.bd-econ.com/treasuryapi.html"
}
</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PGVF5S620Y"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PGVF5S620Y');
</script>

</head>
<body>
	<nav>
		<ul class="ul_nav" id="menu">
			<li class="nav_main"> <a href="index.html">BD Economics</a> </li>
			<li><a href="about.html">About</a> </li>
			<li><a href="https://briandew.wordpress.com">Blog</a> </li>
			<li><a href="python.html" class="active">Guides &darr;</a>
				<ul class="hidden">
					<li><a href="imfapi1.html">IMF API</a></li>
					<li><a href="blsapi.html">BLS API</a></li>
					<li><a href="beaapi.html">BEA API</a></li>
					<li><a href="censusapi.html">Census API</a></li>
					<li><a href="treasuryapi.html">Treasury API</a></li>
					<li><a href="cps.html">CPS Microdata</a></li>
			</ul>
			</li>
		<li>
			<a href="reports.html">Reports &darr;</a>
			<ul class="hidden">
				<li><a href="chartbook.html">US Chartbook</a></li>
				<li><a href="indicators.html">Economic Indicators</a></li>
			</ul>
			</li>
			<li class="icon">
				<button type="button" onclick="responsiveNav()" aria-label="Toggle navigation menu" aria-expanded="false">&#9776;</button>
			</li>
		</ul>
	</nav>
	<header>
	<h1>Treasury API</h1>
	</header>
	<main>
	<section>
	<article class="article_code">
	<h3>US Treasury Fiscal Data API with Python</h3>
	<p>The <a href="https://fiscaldata.treasury.gov/api-documentation/">US Treasury Fiscal Data API</a> offers data on federal finances, including revenue, spending, debt, and more. With Python, you can retrieve and analyze this data programmatically.</p>

	<p>This example uses the Python <code>requests</code> and <code>pandas</code> packages to retrieve treasury data from the Monthly Treasury Statement and analyze federal revenue composition.</p>

	<h3 class="section-title">Background</h3>
	<h4>Treasury Fiscal Data</h4>
	<p>The Bureau of the Fiscal Service provides public access to federal financial data through <a href="https://fiscaldata.treasury.gov/">fiscaldata.treasury.gov</a>. The API allows access to datasets including the Monthly Treasury Statement, Daily Treasury Statement, debt data, and more.</p>

	<h4>API</h4>
	<p>The Fiscal Data API is a RESTful API that returns JSON data. You can filter results, specify date ranges, and paginate through large datasets. No registration or API key is required.</p>

	<h3 class="section-title">Example: Federal Revenue by Type</h3>
	<h4>Import packages</h4>
	<p>In[1]:</p>
	<pre><code class="python">import requests
import pandas as pd</code></pre>

	<h4>Request data from the API</h4>
	<p>Let's look at government revenue by type, from table 9 of the Monthly Treasury Statement (MTS). We want to see the share of federal revenue coming from corporate income taxes and customs duties since 2023.</p>
	<p>We use the <code>filter</code> parameter to request only the categories of interest. The line description from the original MTS table has two lines for "Total"&mdash;one for receipts and one for outlays&mdash;so we'll need to remove the outlays data in the next step.</p>
	<p>In[2]:</p>
	<pre><code class="python">url = 'https://api.fiscaldata.treasury.gov/services/api/fiscal_service'
endpt = '/v1/accounting/mts/mts_table_9'
param = '?filter=classification_desc:in:(Corporation Income Taxes,Customs Duties,Total)&page[size]=800'

r = requests.get(f'{url}{endpt}{param}')</code></pre>

	<h4>Clean and transform the data</h4>
	<p>Next, clean up the results and rename the variables. Remove data related to line 33, which is total outlays. Convert the dates to datetime format and calculate the 12-month rolling sum.</p>
	<p>In[3]:</p>
	<pre><code class="python">rn = {'current_month_rcpt_outly_amt': 'Value', 'src_line_nbr': 'Line',
      'classification_desc': 'Category'}
df = pd.DataFrame(r.json()['data']).rename(rn, axis=1).query('Line != "33"')
df['Date'] = pd.to_datetime(df['record_date'])
df = df.sort_index()
df = df.set_index(['Category', 'Date'])
data = (df['Value'].unstack().T.astype('float') / 1_000_000).rolling(12).sum().dropna()</code></pre>

	<h4>Plot the results</h4>
	<p>Create a plot showing the recent data, from 2023 onward. We calculate each category as a share of total federal revenue.</p>
	<p>In[4]:</p>
	<pre><code class="python"># Calculate the share of total
c = ['Corporation Income Taxes', 'Customs Duties']
res = (data[c].divide(data['Total'], axis=0) * 100)
res.index.name = ''
res.columns.name = ''

title = ('Corporate Income Taxes and Customs Duties\n'+
         'Share of Total Federal Revenue,\n'+
         'in percent, trailing 12 months')
res.loc['2023-01-01':].plot(title=title, figsize=(4.5,5))</code></pre>
	<p>Out[4]:</p>
	<img src="images/treasury_tax.png" alt="Federal Revenue by Type" loading="lazy"/>

	<h4>Summary</h4>
	<p>The Treasury Fiscal Data API provides straightforward access to federal finance data. In this example, we retrieved monthly revenue data, calculated trailing 12-month totals, and visualized how corporate income taxes and customs duties have changed as a share of total federal revenue. The API offers many other datasets covering debt, spending, interest rates, and more.</p>
	</article>
	<div class="subfooter">
	     <a href="python.html">Back to Python Examples</a>
	</div>
	</section>
	</main>

		<footer>
		<div class="footer_left">
			<p><time datetime="2026-01-11">January 11, 2026</time><br> by Brian Dew</p>
		</div>
		<div class="footer_right">
			<a href="https://github.com/bdecon/">
				<button class="button_sm"><i class="fa fa-github"></i></button>
			</a>
			<a href="https://www.linkedin.com/in/brian-dew-5788a386/">
				<button class="button_sm"><i class="fa fa-linkedin"></i></button>
			</a>
			<a href="https://twitter.com/bd_econ">
				<button class="button_sm"><i class="fa fa-twitter"></i></button>
			</a>
			<a href="https://briandew.wordpress.com/">
				<button class="button_sm"><i class="fa fa-wordpress"></i></button>
			</a>
		</div>
	</footer>
	<script>
		function responsiveNav() {
			const menu = document.getElementById("menu");
			const button = document.querySelector(".icon button");
			menu.classList.toggle("responsive");
			const expanded = menu.classList.contains("responsive");
			button.setAttribute("aria-expanded", expanded);
		}
	</script>
</body>
</html>
